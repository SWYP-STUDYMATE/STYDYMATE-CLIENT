import{b as e,z as t}from"./vendor-chunk-3fnplnT6.js";import{C as s}from"./CommonChecklist-chunk-DJLEvcDe.js";import{C as a}from"./CommonButton-chunk-BpPP3d6j.js";import{H as n,a as r,u as l}from"../assets/index-BLpwheyg.js";import{P as c}from"./PrograssBar-chunk-CFewd5gJ.js";import{c as o,p as d}from"./utils-vendor-chunk-D6MFAdC1.js";import{u as i,e as x}from"./react-vendor-chunk-COHvxYfz.js";import{C as m}from"./CompleteOnboarding-chunk-BE7_U29w.js";import"./ui-vendor-chunk-DkBAET_w.js";const p=o(d(e=>({selectedPartnerGender:null,setSelectedPartnerGender:t=>e({selectedPartnerGender:t}),selectedPartnerStyles:[],setSelectedPartnerStyles:t=>e({selectedPartnerStyles:t})}),{name:"partner-storage"}));function u(){const[l,o]=e.useState(null),[d,x]=e.useState([]),[m,u]=e.useState(!0),h=p(e=>e.setSelectedPartnerGender),j=i();e.useEffect(()=>{(async()=>{try{u(!0);const e=await r.get("/onboard/partner/gender-type");x(e.data||[]),u(!1)}catch(e){alert("성별 데이터를 불러오지 못했습니다."),u(!1)}})()},[]);return t.jsxs("div",{className:"bg-[#FFFFFF] min-h-screen w-[768px] mx-auto",children:[t.jsx(n,{}),t.jsx(c,{total:3,value:1,className:"mt-[19px]"}),t.jsxs("div",{className:"w-full max-w-[720px] mx-auto mt-[19px]",children:[t.jsx("h1",{className:"text-[32px] font-bold leading-[42px] text-[#111111] mb-[24px]",children:"원하는 파트너 성별을 선택해 주세요."}),t.jsx("div",{className:"mb-[12px] text-[16px] font-medium text-[#343a40] leading-[24px]",children:"파트너 성별"}),m?t.jsx("div",{className:"flex justify-center items-center py-8",children:t.jsx("div",{className:"text-[16px] text-[#6c757d]",children:"로딩 중..."})}):t.jsx("div",{className:"flex flex-col gap-[12px]",children:d.map(e=>t.jsx(s,{label:e.description,checked:l===e.name,onChange:()=>{return t=e.name,void o(t);var t},type:"radio"},e.name))}),t.jsx(a,{text:"다음",className:"w-full mt-[440px]",disabled:!l||m,onClick:async()=>{h(l);const e={partnerGenderType:l};try{await r.post("/onboard/partner/gender",e),j("/onboarding-partner/2")}catch(t){alert("데이터 전송에 실패했습니다. 다시 시도해주세요.")}}})]})]})}function h(){const[l,o]=e.useState([]),[d,x]=e.useState([]),[m,u]=e.useState(!0),h=p(e=>e.setSelectedPartnerStyles),j=i();e.useEffect(()=>{(async()=>{try{u(!0);const e=await r.get("/onboard/partner/personalities");x(e.data||[]),u(!1)}catch(e){alert("파트너 성격 데이터를 불러오지 못했습니다."),u(!1)}})()},[]);return t.jsxs("div",{className:"bg-[#FFFFFF] min-h-screen w-[768px] mx-auto",children:[t.jsx(n,{}),t.jsx(c,{total:3,value:2,className:"mt-[19px]"}),t.jsxs("div",{className:"w-full max-w-[720px] mx-auto mt-[19px]",children:[t.jsx("h1",{className:"text-[32px] font-bold leading-[42px] text-[#111111] mb-[24px]",children:"원하는 파트너 성격을 선택해 주세요."}),t.jsx("div",{className:"mb-[12px] text-[16px] font-medium text-[#343a40] leading-[24px]",children:"파트너 스타일 (복수 선택 가능)"}),m?t.jsx("div",{className:"flex justify-center items-center py-8",children:t.jsx("div",{className:"text-[16px] text-[#6c757d]",children:"로딩 중..."})}):t.jsx("div",{className:"flex flex-col gap-[12px]",children:d.map(e=>t.jsx(s,{label:e.partnerPersonality,checked:l.includes(e.partnerPersonalityId),onChange:()=>{return t=e.partnerPersonalityId,void o(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},type:"checkbox"},e.partnerPersonalityId))}),t.jsx(a,{text:"다음",className:"w-full mt-[304px]",disabled:0===l.length||m,onClick:async()=>{const e=d.filter(e=>l.includes(e.partnerPersonalityId));h(e);const t={personalPartnerIds:l.sort((e,t)=>e-t)};try{await r.post("/onboard/partner/personality",t),j("/onboarding-partner/complete")}catch(s){alert("데이터 전송에 실패했습니다. 다시 시도해주세요.")}}})]})]})}function j(){const e=i(),s=l(e=>e.name)||"회원";return t.jsx(m,{userName:s,onboarding:"소통&파트너 작성성",subText:"4 번째 단계",step:4,totalSteps:5,onNext:()=>{e("/onboarding-schedule/1")}})}function f(){const{step:e}=x();return"1"===e?t.jsx(u,{}):"2"===e?t.jsx(h,{}):"complete"===e?t.jsx(j,{}):t.jsx("div",{children:"잘못된 접근입니다."})}export{f as default};
