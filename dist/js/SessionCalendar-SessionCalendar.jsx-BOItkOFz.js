import{b as e,z as s}from"./vendor-chunk-D6LsFSV7.js";import{C as t}from"./CommonButton-chunk-BGn4hO1n.js";import{u as a}from"./sessionStore-chunk-BSwnz1SH.js";import{P as n,p as r,q as i,C as l,V as c,f as d,U as o}from"./ui-vendor-chunk-CYPVLLJ1.js";import{u as x}from"./react-vendor-chunk-CMkIwBz9.js";import"./utils-vendor-chunk-Clitctyl.js";function m(){const m=x(),[h,p]=e.useState(new Date),[u,j]=e.useState(new Date),[g,N]=e.useState("month"),{sessions:b,upcomingSessions:v,loadUpcomingSessions:f,addSession:w}=a();e.useEffect(()=>{f()},[f]);const F=e=>b.filter(s=>{const t=new Date(s.date);return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}),E=e=>{const s=new Date(h);s.setMonth(h.getMonth()+e),p(s)},D=()=>{m("/session/schedule/new")},y=({session:e})=>{return s.jsxs("div",{className:"bg-white rounded-lg p-3 mb-2 border border-[#E7E7E7] \n      hover:shadow-md transition-shadow cursor-pointer",onClick:()=>m(`/session/${e.type}/${e.id}`),children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("img",{src:e.partnerImage,alt:e.partnerName,className:"w-8 h-8 rounded-full object-cover"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[12px] font-semibold text-[#111111]",children:e.partnerName}),s.jsxs("p",{className:"text-[10px] text-[#606060]",children:[(t=e.date,t.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1}))," • ",e.duration,"분"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:["video"===e.type?s.jsx(c,{className:"w-4 h-4 text-[#606060]"}):s.jsx(d,{className:"w-4 h-4 text-[#606060]"}),e.participants&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(o,{className:"w-3 h-3 text-[#606060]"}),s.jsx("span",{className:"text-[10px] text-[#606060]",children:e.participants})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full "+("completed"===e.status?"bg-[#E8F5E9] text-[#4CAF50]":"bg-[#E3F2FD] text-[#2196F3]"),children:"completed"===e.status?"완료":"예정"}),s.jsx("span",{className:"text-[10px] text-[#929292]",children:"en"===e.language?"English":"한국어"})]})]});var t},C=(e=>{const s=e.getFullYear(),t=e.getMonth(),a=new Date(s,t,1),n=new Date(s,t+1,0).getDate(),r=a.getDay(),i=[],l=new Date(s,t,0).getDate();for(let d=r-1;d>=0;d--)i.push({date:new Date(s,t-1,l-d),isCurrentMonth:!1});for(let d=1;d<=n;d++)i.push({date:new Date(s,t,d),isCurrentMonth:!0});const c=42-i.length;for(let d=1;d<=c;d++)i.push({date:new Date(s,t+1,d),isCurrentMonth:!1});return i})(h),k=F(u);return s.jsxs("div",{className:"min-h-screen bg-[#FAFAFA]",children:[s.jsx("div",{className:"bg-white border-b border-[#E7E7E7] px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-[20px] font-bold text-[#111111]",children:"세션 캘린더"}),s.jsxs(t,{onClick:D,variant:"primary",size:"small",children:[s.jsx(n,{className:"w-4 h-4 mr-1"}),"새 세션"]})]})}),s.jsx("div",{className:"max-w-7xl mx-auto p-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"bg-white rounded-[20px] p-6 border border-[#E7E7E7]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-[18px] font-bold text-[#111111]",children:h.toLocaleDateString("ko-KR",{year:"numeric",month:"long"})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>E(-1),className:"p-2 hover:bg-[#F1F3F5] rounded-lg transition-colors",children:s.jsx(r,{className:"w-5 h-5 text-[#606060]"})}),s.jsx("button",{onClick:()=>p(new Date),className:"px-3 py-1 text-[14px] text-[#606060] hover:bg-[#F1F3F5] \n                    rounded-lg transition-colors",children:"오늘"}),s.jsx("button",{onClick:()=>E(1),className:"p-2 hover:bg-[#F1F3F5] rounded-lg transition-colors",children:s.jsx(i,{className:"w-5 h-5 text-[#606060]"})})]})]}),s.jsx("div",{className:"grid grid-cols-7 mb-2",children:["일","월","화","수","목","금","토"].map(e=>s.jsx("div",{className:"text-center py-2",children:s.jsx("span",{className:"text-[12px] font-medium text-[#929292]",children:e})},e))}),s.jsx("div",{className:"grid grid-cols-7 gap-1",children:C.map((e,t)=>{const a=e.date.toDateString()===(new Date).toDateString(),n=e.date.toDateString()===u.toDateString(),r=F(e.date);return s.jsxs("div",{onClick:()=>{return e.isCurrentMonth&&(s=e.date,void j(s));var s},className:`\n                        min-h-[80px] p-2 border border-[#E7E7E7] rounded-lg cursor-pointer\n                        transition-all duration-200\n                        ${e.isCurrentMonth?"bg-white":"bg-[#FAFAFA] text-[#929292]"}\n                        ${n?"ring-2 ring-[#00C471]":""}\n                        ${e.isCurrentMonth?"hover:bg-[#F8F9FA]":""}\n                      `,children:[s.jsx("div",{className:"text-[14px] font-medium mb-1 "+(a?"text-[#00C471]":e.isCurrentMonth?"text-[#111111]":""),children:e.date.getDate()}),r.length>0&&s.jsxs("div",{className:"space-y-1",children:[r.slice(0,2).map((e,t)=>s.jsx("div",{className:"h-1.5 rounded-full "+("completed"===e.status?"bg-[#4CAF50]":"bg-[#2196F3]")},t)),r.length>2&&s.jsxs("span",{className:"text-[10px] text-[#929292]",children:["+",r.length-2]})]})]},t)})})]})}),s.jsxs("div",{className:"lg:col-span-1",children:[s.jsxs("div",{className:"bg-white rounded-[20px] p-6 border border-[#E7E7E7]",children:[s.jsx("h3",{className:"text-[16px] font-bold text-[#111111] mb-4",children:u.toLocaleDateString("ko-KR",{month:"long",day:"numeric",weekday:"long"})}),k.length>0?s.jsx("div",{className:"space-y-2",children:k.map(e=>s.jsx(y,{session:e},e.id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(l,{className:"w-12 h-12 text-[#E7E7E7] mx-auto mb-3"}),s.jsx("p",{className:"text-[14px] text-[#929292] mb-4",children:"예정된 세션이 없습니다"}),s.jsx(t,{onClick:D,variant:"secondary",size:"small",children:"세션 예약하기"})]})]}),s.jsxs("div",{className:"bg-white rounded-[20px] p-6 border border-[#E7E7E7] mt-4",children:[s.jsx("h3",{className:"text-[16px] font-bold text-[#111111] mb-4",children:"이번 달 통계"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-[14px] text-[#606060]",children:"예정된 세션"}),s.jsx("span",{className:"text-[16px] font-semibold text-[#111111]",children:b.filter(e=>"scheduled"===e.status).length})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-[14px] text-[#606060]",children:"완료된 세션"}),s.jsx("span",{className:"text-[16px] font-semibold text-[#111111]",children:b.filter(e=>"completed"===e.status).length})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-[14px] text-[#606060]",children:"총 학습시간"}),s.jsxs("span",{className:"text-[16px] font-semibold text-[#111111]",children:[b.reduce((e,s)=>e+s.duration,0),"분"]})]})]})]})]})]})})]})}export{m as default};
