import{b as e,z as s}from"./vendor-chunk-D6LsFSV7.js";import{C as a}from"./CommonButton-chunk-BGn4hO1n.js";import{u as t}from"./sessionStore-chunk-BSwnz1SH.js";import{C as r,P as n,a4 as c,U as i,n as l,V as d,f as o,q as x}from"./ui-vendor-chunk-CYPVLLJ1.js";import{u as m}from"./react-vendor-chunk-CMkIwBz9.js";import"./utils-vendor-chunk-Clitctyl.js";function p(){const p=m(),[h,u]=e.useState("upcoming"),[b,v]=e.useState(!1),{sessions:j,upcomingSessions:g,pastSessions:N,sessionStats:f,loadUpcomingSessions:k,cancelSession:w}=t(),y=[{id:"1",partnerId:"emma123",partnerName:"Emma Wilson",partnerImage:"/assets/basicProfilePic.png",type:"video",scheduledAt:new Date(Date.now()+36e5).toISOString(),duration:60,language:"en",status:"scheduled"},{id:"2",partnerId:"john456",partnerName:"John Smith",partnerImage:"/assets/basicProfilePic.png",type:"audio",scheduledAt:new Date(Date.now()+864e5).toISOString(),duration:30,language:"ko",status:"scheduled"},{id:"3",partnerId:"group789",partnerName:"그룹 세션",partnerImage:"/assets/basicProfilePic.png",type:"video",scheduledAt:new Date(Date.now()+1728e5).toISOString(),duration:45,language:"en",status:"scheduled",participants:4}],S=[{id:"4",partnerId:"sarah111",partnerName:"Sarah Johnson",partnerImage:"/assets/basicProfilePic.png",type:"video",scheduledAt:new Date(Date.now()-864e5).toISOString(),duration:60,language:"en",status:"completed",rating:5},{id:"5",partnerId:"mike222",partnerName:"Mike Chen",partnerImage:"/assets/basicProfilePic.png",type:"audio",scheduledAt:new Date(Date.now()-1728e5).toISOString(),duration:45,language:"ko",status:"completed",rating:4}];e.useEffect(()=>{k()},[k]);const I=e=>{const s=new Date(e),a=s-new Date,t=Math.floor(a/864e5);if(0===t){const e=Math.floor(a/36e5);if(0===e){return`${Math.floor(a/6e4)}분 후`}return`${e}시간 후`}return 1===t?"내일":t>0&&t<7?`${t}일 후`:s.toLocaleDateString("ko-KR",{month:"numeric",day:"numeric",weekday:"short"})},D=e=>{"video"===e.type?p(`/session/video/${e.id}`):p(`/session/audio/${e.id}`)},C=({session:e,isPast:a=!1})=>s.jsxs("div",{className:"bg-white rounded-[20px] p-6 border border-[var(--black-50)] mb-4",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("img",{src:e.partnerImage,alt:e.partnerName,className:"w-12 h-12 rounded-full object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx("h3",{className:"text-[16px] font-semibold text-[var(--black-500)]",children:e.partnerName}),e.participants&&s.jsxs("span",{className:"flex items-center space-x-1 text-[12px] text-[#929292]",children:[s.jsx(i,{className:"w-3 h-3"}),s.jsx("span",{children:e.participants})]})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-[14px] text-[var(--black-300)]",children:[s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(r,{className:"w-4 h-4"}),s.jsx("span",{children:I(e.scheduledAt)})]}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(l,{className:"w-4 h-4"}),s.jsxs("span",{children:[e.duration,"분"]})]}),s.jsxs("span",{className:"flex items-center space-x-1",children:["video"===e.type?s.jsx(d,{className:"w-4 h-4"}):s.jsx(o,{className:"w-4 h-4"}),s.jsx("span",{children:"video"===e.type?"화상":"음성"})]})]})]})]}),a?e.rating&&s.jsx("div",{className:"flex space-x-1",children:[...Array(5)].map((a,t)=>s.jsx("span",{className:"text-[14px] "+(t<e.rating?"text-[var(--warning-yellow)]":"text-[var(--black-50)]"),children:"★"},t))}):s.jsx("button",{onClick:()=>D(e),className:"p-2 text-[var(--green-500)] hover:bg-[var(--neutral-100)] rounded-lg transition-colors",children:s.jsx(x,{className:"w-5 h-5"})})]}),!a&&s.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-[var(--neutral-100)]",children:[s.jsx("span",{className:"px-3 py-1 bg-[var(--neutral-100)] text-[var(--black-300)] text-[12px] rounded-full",children:"en"===e.language?"English":"한국어"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>{return s=e.id,void(window.confirm("이 세션을 취소하시겠습니까?")&&w(s));var s},className:"text-[14px] text-[var(--black-200)] hover:text-[var(--red)]",children:"취소"}),s.jsx("button",{onClick:()=>D(e),className:"text-[14px] text-[var(--green-500)] hover:text-[var(--green-600)] font-medium",children:"참가하기"})]})]})]});return s.jsxs("div",{className:"min-h-screen page-bg",children:[s.jsx("div",{className:"bg-white border-b border-[var(--black-50)] px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-[20px] font-bold text-[var(--black-500)]",children:"세션"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>p("/sessions/calendar"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(r,{className:"w-5 h-5 text-[var(--black-300)]"})}),s.jsx("button",{onClick:()=>p("/session/schedule"),className:"p-2 bg-[var(--green-500)] hover:bg-[var(--green-600)] text-white rounded-lg",children:s.jsx(n,{className:"w-5 h-5"})})]})]})}),s.jsx("div",{className:"bg-white p-6 border-b border-[var(--black-50)]",children:s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-[24px] font-bold text-[var(--black-500)]",children:f.totalSessions||0}),s.jsx("p",{className:"text-[12px] text-[var(--black-200)]",children:"완료 세션"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-[24px] font-bold text-[var(--black-500)]",children:[f.totalDuration||0,"분"]}),s.jsx("p",{className:"text-[12px] text-[var(--black-200)]",children:"총 학습시간"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-[24px] font-bold text_[var(--black-500)]",children:[f.completionRate||0,"%"]}),s.jsx("p",{className:"text-[12px] text-[var(--black-200)]",children:"완료율"})]})]})}),s.jsx("div",{className:"bg-white border-b border_[var(--black-50)]",children:s.jsxs("div",{className:"flex",children:[s.jsx("button",{onClick:()=>u("upcoming"),className:"flex-1 py-3 text-[14px] font-medium border-b-2 transition-colors "+("upcoming"===h?"text-[var(--green-500)] border-[var(--green-500)]":"text-[var(--black-200)] border-transparent"),children:"예정된 세션"}),s.jsx("button",{onClick:()=>u("past"),className:"flex-1 py-3 text-[14px] font-medium border-b-2 transition-colors "+("past"===h?"text-[var(--green-500)] border-[var(--green-500)]":"text-[var(--black-200)] border-transparent"),children:"지난 세션"})]})}),s.jsx("div",{className:"p-4",children:s.jsxs("button",{onClick:()=>v(!b),className:"flex items-center space-x-2 px-4 py-2 bg-white rounded-lg \n          border border-[var(--black-50)] text-[14px] text-[var(--black-300)] hover:bg-[var(--neutral-100)]",children:[s.jsx(c,{className:"w-4 h-4"}),s.jsx("span",{children:"필터"})]})}),s.jsx("div",{className:"px-6 pb-6",children:"upcoming"===h?s.jsx(s.Fragment,{children:y.length>0?y.map(e=>s.jsx(C,{session:e},e.id)):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-[16px] text-[var(--black-200)] mb-4",children:"예정된 세션이 없습니다"}),s.jsx(a,{onClick:()=>p("/matching"),variant:"primary",children:"매칭 시작하기"})]})}):s.jsx(s.Fragment,{children:S.length>0?S.map(e=>s.jsx(C,{session:e,isPast:!0},e.id)):s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-[16px] text-[var(--black-200)]",children:"완료된 세션이 없습니다"})})})})]})}export{p as default};
