import{b as e,z as t}from"./vendor-chunk-D6LsFSV7.js";import{u as s,H as a,a as n}from"../assets/index-Cy6KDqhv.js";import{P as l}from"./PrograssBar-chunk-CxvE9X8I.js";import{C as r}from"./CommonButton-chunk-BGn4hO1n.js";import{u as i,e as o}from"./react-vendor-chunk-CMkIwBz9.js";import{S as c}from"./ui-vendor-chunk-CYPVLLJ1.js";import{c as x}from"./SelectStyles-chunk-CfjdFBjk.js";import{C as d}from"./CompleteOnboarding-chunk-DyWJUXgc.js";import"./utils-vendor-chunk-Clitctyl.js";function p(){const o=s(e=>e.setEnglishName),[c,x]=e.useState(""),d=i(),p=c.length>0;return t.jsxs("div",{className:"bg-[#FFFFFF] h-screen w-[768px] mx-auto",children:[t.jsx(a,{}),t.jsx(l,{total:5,value:1,className:"mt-[19px]"}),t.jsx("div",{className:"mx-auto mt-[19px] w-[720px]",children:t.jsx("h1",{className:"text-[32px] font-bold leading-[42px] text-[#111111]",children:"파트너가 편하게 부를 수 있는 이름을 입력해주세요!"})}),t.jsxs("div",{className:"mx-auto mt-[32px] w-[720px]",children:[t.jsx("label",{className:"block text-[16px] font-medium leading-[24px] text-[#343a40] mb-[8px]",children:"영어 이름"}),t.jsx("input",{type:"text",placeholder:"닉네임을 입력해주세요",value:c,onChange:e=>{const t=e.target.value;/^[a-zA-Z]*$/.test(t)&&x(t)},className:"w-full h-[56px] px-[16px] mb-[576px] border border-[#ced4da] rounded-[6px] bg-[#ffffff] text-[16px] font-medium text-[#111111] placeholder-[#929292] outline-none focus:border-[#111111] transition-colors duration-200"}),t.jsx(r,{text:"다음",disabled:!p,onClick:async()=>{if(window.confirm(`입력한 이름이 "${c}" 맞습니까?`))try{await n.post("/user/english-name",{englishName:c}),o(c),d("/onboarding-info/2")}catch(e){alert("영어 이름 저장에 실패했습니다.")}}})]})]})}function m(){const[o,d]=e.useState([]),[p,m]=e.useState(null),u=s(e=>e.setResidence),h=i();e.useEffect(()=>{n.get("/user/locations").then(e=>{d(e.data)}).catch(e=>{alert("거주지 리스트를 불러오지 못했습니다.")})},[]);const f=e.useMemo(()=>o.map(e=>({value:e.locationId,label:`${e.city}, ${e.country} (${e.timezone})`})),[o]),g=!!p;return t.jsxs("div",{className:"bg-[#FFFFFF] h-screen w-[768px] mx-auto",children:[t.jsx(a,{}),t.jsx(l,{total:5,value:2,className:"mt-[19px]"}),t.jsx("div",{className:"mx-auto mt-[19px] w-[720px]",children:t.jsx("h1",{className:"text-[32px] font-bold leading-[42px] text-[#111111]",children:"현재 거주지와 시간대를 선택해주세요."})}),t.jsxs("div",{className:"mx-auto mt-[32px] w-[720px]",children:[t.jsx("label",{className:"block text-[16px] font-medium leading-[24px] text-[#343a40] mb-[8px]",children:"거주지 & 시간대"}),t.jsx(c,{options:f,value:p,onChange:m,placeholder:"거주지&시간대를 선택해주세요",className:"mb-[576px]",styles:x,isSearchable:!1}),t.jsx(r,{text:"다음",disabled:!g,onClick:async()=>{if(window.confirm(`선택한 거주지/시간대가 "${p?.label}" 맞습니까?`))try{await n.post("/user/location",{locationId:p.value}),u(p.value),h("/onboarding-info/3")}catch(e){alert("거주지 저장에 실패했습니다.")}}})]})]})}function u(){const[o,c]=e.useState(null),[x,d]=e.useState(null),[p,m]=e.useState(null),u=e.useRef(),h=s(e=>e.setProfileImage),f=i();return t.jsxs("div",{className:"bg-[#FFFFFF] h-screen w-[768px] mx-auto",children:[t.jsx(a,{}),t.jsx(l,{total:5,value:3,className:"mt-[19px]"}),t.jsxs("div",{className:"mx-auto mt-[19px] w-[720px]",children:[t.jsx("h1",{className:"text-[32px] font-bold leading-[42px] text-[#111111]",children:"프로필 사진을 업로드 해주세요."}),t.jsx("p",{className:"text-[16px] font-medium text-[#343a40] mt-[24px]",children:"(선택) 얼굴이 보이는 사진을 올리면 첫 만남이 더 편해집니다."})]}),t.jsxs("div",{className:"mx-auto mt-[70px] w-[720px] flex flex-col items-center",children:[t.jsxs("div",{className:"relative w-[300px] h-[300px] mb-[114px]",children:[t.jsx("div",{className:"w-full h-full rounded-full bg-[#e7e7e7] flex items-center justify-center overflow-hidden cursor-pointer",onClick:()=>{m(null),setTimeout(()=>{u.current.click()},0)},children:o?t.jsx("img",{src:o,alt:"프로필 미리보기",className:"object-cover w-full h-full"}):t.jsxs("div",{children:[t.jsx("div",{className:"bg-[url('/assets/photo.png')] bg-contain bg-center bg-no-repeat w-[38px] h-[30px] mx-auto"}),t.jsx("div",{className:"text-[#343A40] text-[15px] font-regular leading-[24px] mt-[12px]",children:"사진 선택"})]})}),t.jsx("input",{type:"file",accept:"image/*",ref:u,className:"hidden",onChange:e=>{const t=e.target.files[0];if(t){d(t);const e=new FileReader;e.onload=e=>{c(e.target.result)},e.readAsDataURL(t)}},capture:p||void 0})]}),t.jsxs("div",{className:"flex flex-col gap-[32px] w-full mt-8",children:[t.jsxs("div",{className:"flex items-center w-full my-2",children:[t.jsx("div",{className:"flex-1 h-px bg-[#e8e8e8]"}),t.jsx("span",{className:"mx-2 text-[#343a40] text-[16px] font-medium",children:"or"}),t.jsx("div",{className:"flex-1 h-px bg-[#e8e8e8]"})]}),t.jsx(r,{text:"카메라로 사진 찍기",variant:"success",onClick:()=>{m("environment"),setTimeout(()=>{u.current.click()},0)}}),t.jsx(r,{text:o?"다음":"건너뛰기",variant:o?"primary":"secondary",onClick:o?async()=>{if(x)try{const e=new FormData;e.append("file",x),await n.post("/user/profile-image",e,{headers:{"Content-Type":"multipart/form-data"}}),h(o),alert("사진이 저장되었습니다. 다음 단계로 이동합니다."),f("/onboarding-info/4")}catch(e){alert("프로필 이미지 저장에 실패했습니다.")}else alert("이미지 파일을 선택해주세요.")}:()=>{f("/onboarding-info/4")}})]})]})]})}function h(){const[o,c]=e.useState(""),x=s(e=>e.setIntro),d=i();return t.jsxs("div",{className:"bg-[#FFFFFF] h-screen w-[768px] mx-auto",children:[t.jsx(a,{}),t.jsx(l,{total:5,value:4,className:"mt-[19px]"}),t.jsxs("div",{className:"mx-auto mt-[19px] w-[720px]",children:[t.jsx("h1",{className:"text-[32px] font-bold leading-[42px] text-[#111111]",children:"자신에 대해 간단히 소개해 주세요."}),t.jsx("p",{className:"text-[16px] font-medium text-[#343a40] mt-[24px] leading-[24px]",children:"파트너에게 목표나 동기 등을 알려주시면 좋아요."})]}),t.jsxs("div",{className:"mx-auto mt-[12px] w-[720px]",children:[t.jsx("textarea",{className:"w-full h-[150px] px-[16px] py-[16px] border border-[#ced4da] rounded-[6px] bg-[#ffffff] text-[16px] font-medium text-[#111111] placeholder-[#929292] outline-none focus:border-[#111111] transition-colors duration-200 resize-none",placeholder:"안녕하세요 현재 영어를 내년 8월 어학연수를 위해서 배우려고 합니다! 같이 성장해요! ",value:o,onChange:e=>{e.target.value.length<=800&&c(e.target.value)},maxLength:800}),t.jsxs("div",{className:"flex justify-end text-[#929292] text-[16px] font-medium mt-[12px] mb-[446px]",children:["(",o.length,"/",800,")"]}),t.jsx(r,{text:"다음",onClick:async()=>{try{await n.post("/user/self-bio",{selfBio:o}),x(o),d("/onboarding-info/complete")}catch(e){alert("자기소개 저장에 실패했습니다.")}},disabled:0===o.length})]})]})}function f(){const e=i(),a=s(e=>e.name)||"회원";return t.jsx(d,{userName:a,onboarding:"기본 정보 작성",subText:"1번째 단계",step:1,totalSteps:5,onNext:()=>e("/onboarding-lang/1")})}const g={...x,placeholder:e=>({...e,color:"#929292",fontWeight:500,textAlign:"center"}),singleValue:e=>({...e,color:"#111111",fontWeight:500,textAlign:"center"})},j=()=>{const s=i(),[l,o]=e.useState(""),[x,d]=e.useState(null),[p,m]=e.useState([]),[u,h]=e.useState(null),[f,j]=e.useState(null),[b,v]=e.useState(null),[N,y]=e.useState({age14:!1,service:!1,privacy:!1,marketing:!1}),[w,k]=e.useState(!1);e.useEffect(()=>{(async()=>{try{const e=await n.get("/user/gender-type"),t=Array.isArray(e.data)?e.data.map(e=>({name:e.name,description:e.description})):[{name:"MALE",description:"남성"},{name:"FEMALE",description:"여성"},{name:"NONE",description:"없음"}];m(t)}catch(e){m([{name:"MALE",description:"남성"},{name:"FEMALE",description:"여성"},{name:"NONE",description:"없음"}])}})()},[]);const F=Array.from({length:100},(e,t)=>({value:2024-t,label:(2024-t).toString()})),S=Array.from({length:12},(e,t)=>({value:t+1,label:(t+1).toString()})),C=Array.from({length:31},(e,t)=>({value:t+1,label:(t+1).toString()})),A=()=>l&&u&&f&&b&&N.age14&&N.service&&N.privacy;return t.jsxs("div",{className:"bg-[#FFFFFF] h-screen w-[768px] mx-auto",children:[t.jsx(a,{}),t.jsxs("div",{className:"mx-auto mt-[52px] w-[720px]",children:[t.jsxs("div",{className:"mb-[24px]",children:[t.jsx("h1",{className:"text-[32px] font-bold text-[#111111] mb-[12px] leading-[42px] tracking-[-0.8px]",children:"Language Mate에 오신 것을 환영해요!"}),t.jsx("p",{className:"text-[16px] text-[#767676] leading-[24px] tracking-[-0.4px]",children:"몇 가지 간단한 로그인 절차만 거치면 바로 서비스를 시작할 수 있어요."})]}),t.jsxs("div",{className:"mb-[32px]",children:[t.jsx("label",{className:"block text-[16px] font-bold text-[#343a40] mb-[16px] leading-[24px] tracking-[-0.4px]",children:"성별"}),t.jsx("div",{className:"flex gap-[16px]",children:p.map((e,s)=>t.jsx("button",{onClick:()=>{o(e.description),d(e.name)},className:"flex-1 h-[56px] px-[16px] border rounded-[6px] text-[16px] font-medium transition-colors "+(l===e.description?"border-[#ced4da] bg-white text-[#111111]":"border-[#ced4da] bg-white text-[#868e96] hover:bg-[#F7F7FB]"),children:e.description},s))})]}),t.jsxs("div",{className:"mb-[32px]",children:[t.jsx("label",{className:"block text-[16px] font-bold text-[#343a40] mb-[16px] leading-[24px] tracking-[-0.4px]",children:"생년월일"}),t.jsxs("div",{className:"flex gap-[16px]",children:[t.jsx("div",{className:"flex-1",children:t.jsx(c,{value:u,onChange:h,options:F,placeholder:"출생 연도",styles:g,isSearchable:!1})}),t.jsx("div",{className:"flex-1",children:t.jsx(c,{value:f,onChange:j,options:S,placeholder:"월",styles:g,isSearchable:!1})}),t.jsx("div",{className:"flex-1",children:t.jsx(c,{value:b,onChange:v,options:C,placeholder:"일",styles:g,isSearchable:!1})})]})]}),t.jsxs("div",{className:"mb-[110px]",children:[t.jsx("div",{className:"mb-[16px] p-[16px] bg-[#f8f9fa] rounded-[6px]",children:t.jsxs("div",{className:"flex items-center",children:[t.jsxs("div",{className:"relative w-5 h-5 mr-3 flex items-center justify-center",children:[t.jsx("input",{type:"checkbox",className:"appearance-none w-5 h-5 rounded-[4px] border cursor-pointer transition "+(w?"bg-[#00c471] border-[#00c471]":"bg-white border-[#ced4da]"),checked:w,onChange:e=>{return t=e.target.checked,k(t),void y({age14:t,service:t,privacy:t,marketing:t});var t}}),t.jsx("svg",{className:"absolute left-0 top-0 w-5 h-5 pointer-events-none",viewBox:"0 0 20 20",fill:"none",children:t.jsx("path",{d:"M5 10.5L9 14.5L15 7.5",stroke:w?"#fff":"#e0e0e0",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),t.jsx("span",{className:"text-lg font-bold select-none",children:"전체 동의"})]})}),t.jsx("div",{children:[{key:"age14",label:"만 14세 이상 확인",required:!0},{key:"service",label:"서비스 이용약관 동의",required:!0},{key:"privacy",label:"개인정보 처리 방침 동의",required:!0},{key:"marketing",label:"마케팅 및 광고 수신 동의",required:!1}].map(({key:e,label:s,required:a})=>t.jsxs("div",{className:"flex items-center py-[12px] px-[16px]",children:[t.jsxs("div",{className:"relative w-5 h-5 mr-3 flex items-center justify-center",children:[t.jsx("input",{type:"checkbox",className:"appearance-none w-5 h-5 bg-white rounded cursor-pointer",checked:N[e],onChange:t=>((e,t)=>{const s={...N,[e]:t};y(s);const a=s.age14&&s.service&&s.privacy;k(a&&s.marketing)})(e,t.target.checked)}),t.jsx("svg",{className:"absolute left-0 top-0 w-5 h-5 pointer-events-none",viewBox:"0 0 20 20",fill:"none",children:t.jsx("path",{d:"M5 10.5L9 14.5L15 7.5",stroke:N[e]?"#212529":"#e0e0e0",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),t.jsxs("span",{className:"text-base select-none",children:[s," ",t.jsxs("span",{className:a?"text-[#EA4335]":"text-gray-400",children:["(",a?"필수":"선택",")"]})]})]},e))})]}),t.jsx(r,{text:"완료",disabled:!A(),onClick:async()=>{if(A())try{await n.post("/user/gender",{genderType:x}),await n.post("/user/birthyear",{birthyear:u.value.toString()});const e=f.value.toString().padStart(2,"0"),t=b.value.toString().padStart(2,"0");await n.post("/user/birthday",{birthday:`${e}-${t}`}),s("/signup-complete")}catch(e){alert("회원가입 중 오류가 발생했습니다. 다시 시도해주세요.")}}})]})]})};function b(){const{step:e}=o();return"1"===e?t.jsx(p,{}):"2"===e?t.jsx(m,{}):"3"===e?t.jsx(u,{}):"4"===e?t.jsx(h,{}):"complete"===e?t.jsx(f,{}):"google"===e?t.jsx(j,{}):t.jsx("div",{children:"잘못된 접근입니다."})}export{b as default};
