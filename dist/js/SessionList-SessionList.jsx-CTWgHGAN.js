import{b as e,z as s}from"./vendor-chunk-3fnplnT6.js";import{C as t}from"./CommonButton-chunk-BpPP3d6j.js";import{u as a}from"./sessionStore-chunk-CrERY4Vv.js";import{C as n,P as r,$ as i,U as c,n as l,V as d,f as o,q as x}from"./ui-vendor-chunk-DkBAET_w.js";import{u as m}from"./react-vendor-chunk-COHvxYfz.js";import"./utils-vendor-chunk-D6MFAdC1.js";function p(){const p=m(),[h,u]=e.useState("upcoming"),[j,g]=e.useState(!1),{sessions:N,upcomingSessions:b,pastSessions:f,sessionStats:v,loadUpcomingSessions:w,cancelSession:y}=a(),E=[{id:"1",partnerId:"emma123",partnerName:"Emma Wilson",partnerImage:"/assets/basicProfilePic.png",type:"video",scheduledAt:new Date(Date.now()+36e5).toISOString(),duration:60,language:"en",status:"scheduled"},{id:"2",partnerId:"john456",partnerName:"John Smith",partnerImage:"/assets/basicProfilePic.png",type:"audio",scheduledAt:new Date(Date.now()+864e5).toISOString(),duration:30,language:"ko",status:"scheduled"},{id:"3",partnerId:"group789",partnerName:"그룹 세션",partnerImage:"/assets/basicProfilePic.png",type:"video",scheduledAt:new Date(Date.now()+1728e5).toISOString(),duration:45,language:"en",status:"scheduled",participants:4}],S=[{id:"4",partnerId:"sarah111",partnerName:"Sarah Johnson",partnerImage:"/assets/basicProfilePic.png",type:"video",scheduledAt:new Date(Date.now()-864e5).toISOString(),duration:60,language:"en",status:"completed",rating:5},{id:"5",partnerId:"mike222",partnerName:"Mike Chen",partnerImage:"/assets/basicProfilePic.png",type:"audio",scheduledAt:new Date(Date.now()-1728e5).toISOString(),duration:45,language:"ko",status:"completed",rating:4}];e.useEffect(()=>{w()},[w]);const k=e=>{const s=new Date(e),t=s-new Date,a=Math.floor(t/864e5);if(0===a){const e=Math.floor(t/36e5);if(0===e){return`${Math.floor(t/6e4)}분 후`}return`${e}시간 후`}return 1===a?"내일":a>0&&a<7?`${a}일 후`:s.toLocaleDateString("ko-KR",{month:"numeric",day:"numeric",weekday:"short"})},C=e=>{"video"===e.type?p(`/session/video/${e.id}`):p(`/session/audio/${e.id}`)},F=({session:e,isPast:t=!1})=>s.jsxs("div",{className:"bg-white rounded-[20px] p-6 border border-[#E7E7E7] mb-4",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("img",{src:e.partnerImage,alt:e.partnerName,className:"w-12 h-12 rounded-full object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx("h3",{className:"text-[16px] font-semibold text-[#111111]",children:e.partnerName}),e.participants&&s.jsxs("span",{className:"flex items-center space-x-1 text-[12px] text-[#929292]",children:[s.jsx(c,{className:"w-3 h-3"}),s.jsx("span",{children:e.participants})]})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-[14px] text-[#606060]",children:[s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(n,{className:"w-4 h-4"}),s.jsx("span",{children:k(e.scheduledAt)})]}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(l,{className:"w-4 h-4"}),s.jsxs("span",{children:[e.duration,"분"]})]}),s.jsxs("span",{className:"flex items-center space-x-1",children:["video"===e.type?s.jsx(d,{className:"w-4 h-4"}):s.jsx(o,{className:"w-4 h-4"}),s.jsx("span",{children:"video"===e.type?"화상":"음성"})]})]})]})]}),t?e.rating&&s.jsx("div",{className:"flex space-x-1",children:[...Array(5)].map((t,a)=>s.jsx("span",{className:"text-[14px] "+(a<e.rating?"text-[#FFA500]":"text-[#E7E7E7]"),children:"★"},a))}):s.jsx("button",{onClick:()=>C(e),className:"p-2 text-[#00C471] hover:bg-[#F1F3F5] rounded-lg transition-colors",children:s.jsx(x,{className:"w-5 h-5"})})]}),!t&&s.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-[#F1F3F5]",children:[s.jsx("span",{className:"px-3 py-1 bg-[#F1F3F5] text-[#606060] text-[12px] rounded-full",children:"en"===e.language?"English":"한국어"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>{return s=e.id,void(window.confirm("이 세션을 취소하시겠습니까?")&&y(s));var s},className:"text-[14px] text-[#929292] hover:text-[#EA4335]",children:"취소"}),s.jsx("button",{onClick:()=>C(e),className:"text-[14px] text-[#00C471] hover:text-[#00B267] font-medium",children:"참가하기"})]})]})]});return s.jsxs("div",{className:"min-h-screen bg-[#FAFAFA]",children:[s.jsx("div",{className:"bg-white border-b border-[#E7E7E7] px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-[20px] font-bold text-[#111111]",children:"세션"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>p("/sessions/calendar"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(n,{className:"w-5 h-5 text-[#606060]"})}),s.jsx("button",{onClick:()=>p("/session/schedule"),className:"p-2 bg-[#00C471] hover:bg-[#00B267] text-white rounded-lg",children:s.jsx(r,{className:"w-5 h-5"})})]})]})}),s.jsx("div",{className:"bg-white p-6 border-b border-[#E7E7E7]",children:s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-[24px] font-bold text-[#111111]",children:v.totalSessions||0}),s.jsx("p",{className:"text-[12px] text-[#929292]",children:"완료 세션"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-[24px] font-bold text-[#111111]",children:[v.totalDuration||0,"분"]}),s.jsx("p",{className:"text-[12px] text-[#929292]",children:"총 학습시간"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-[24px] font-bold text-[#111111]",children:[v.completionRate||0,"%"]}),s.jsx("p",{className:"text-[12px] text-[#929292]",children:"완료율"})]})]})}),s.jsx("div",{className:"bg-white border-b border-[#E7E7E7]",children:s.jsxs("div",{className:"flex",children:[s.jsx("button",{onClick:()=>u("upcoming"),className:"flex-1 py-3 text-[14px] font-medium border-b-2 transition-colors "+("upcoming"===h?"text-[#00C471] border-[#00C471]":"text-[#929292] border-transparent"),children:"예정된 세션"}),s.jsx("button",{onClick:()=>u("past"),className:"flex-1 py-3 text-[14px] font-medium border-b-2 transition-colors "+("past"===h?"text-[#00C471] border-[#00C471]":"text-[#929292] border-transparent"),children:"지난 세션"})]})}),s.jsx("div",{className:"p-4",children:s.jsxs("button",{onClick:()=>g(!j),className:"flex items-center space-x-2 px-4 py-2 bg-white rounded-lg \n          border border-[#E7E7E7] text-[14px] text-[#606060] hover:bg-[#F1F3F5]",children:[s.jsx(i,{className:"w-4 h-4"}),s.jsx("span",{children:"필터"})]})}),s.jsx("div",{className:"px-6 pb-6",children:"upcoming"===h?s.jsx(s.Fragment,{children:E.length>0?E.map(e=>s.jsx(F,{session:e},e.id)):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-[16px] text-[#929292] mb-4",children:"예정된 세션이 없습니다"}),s.jsx(t,{onClick:()=>p("/matching"),variant:"primary",children:"매칭 시작하기"})]})}):s.jsx(s.Fragment,{children:S.length>0?S.map(e=>s.jsx(F,{session:e,isPast:!0},e.id)):s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-[16px] text-[#929292]",children:"완료된 세션이 없습니다"})})})})]})}export{p as default};
