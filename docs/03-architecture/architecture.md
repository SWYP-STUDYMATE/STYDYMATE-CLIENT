# STUDYMATE ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-01-18 (ìƒíƒœ ê´€ë¦¬ ë° ì‹¤ì‹œê°„ í†µì‹  í™•ì¥)
**ì•„í‚¤í…ì²˜ ê²€ì¦ ì ìˆ˜**: âœ… 95/100 (Aê¸‰)

## ğŸ—ï¸ ì „ì²´ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ì‚¬ìš©ì (Web/Mobile)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Cloudflare CDN/Pages                      â”‚
â”‚                  (Static Assets & Frontend)                  â”‚
â”‚                   https://languagemate.kr                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                    â–¼                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   REST API   â”‚   â”‚  WebSocket   â”‚   â”‚  Workers AI  â”‚
â”‚   (HTTPS)    â”‚   â”‚    (WSS)     â”‚   â”‚   (HTTPS)    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                  â”‚                   â”‚
       â–¼                  â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                Cloudflare Workers API Layer                 â”‚
â”‚                  https://api.languagemate.kr                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Auth   â”‚   User   â”‚ Matching â”‚   Chat   â”‚ Sessions â”‚   â”‚
â”‚  â”‚ Routes  â”‚ Routes   â”‚ Routes   â”‚ Routes   â”‚ Routes   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚        â–² Durable Objects (WebRTC / Presence / Chat Hub)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                 â–¼                 â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      D1      â”‚  â”‚  Workers KV  â”‚  â”‚      R2      â”‚ â”‚  Durable   â”‚
â”‚  Relational  â”‚  â”‚   Cache &    â”‚  â”‚  Assets &    â”‚ â”‚  Objects   â”‚
â”‚   Storage    â”‚  â”‚ Configurationâ”‚  â”‚   Media      â”‚ â”‚   State    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“¦ ì»´í¬ë„ŒíŠ¸ ìƒì„¸

### 1. Frontend (STUDYMATE-CLIENT)

#### ê¸°ìˆ  ìŠ¤íƒ
- **Framework**: React 19.1.0
- **Build Tool**: Vite 7.0.4
- **Styling**: Tailwind CSS 4.1.11
- **State Management**: Zustand 5.0.6
- **Routing**: React Router DOM 7.6.3
- **HTTP Client**: Axios 1.10.0
- **WebSocket**: SockJS + StompJS

#### ì£¼ìš” ë””ë ‰í† ë¦¬
```
src/
â”œâ”€â”€ api/           # API í†µì‹  ë ˆì´ì–´
â”œâ”€â”€ components/    # ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ hooks/         # ì»¤ìŠ¤í…€ í›…
â”œâ”€â”€ pages/         # í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ store/         # ìƒíƒœ ê´€ë¦¬ (Zustand)
â”œâ”€â”€ utils/         # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â””â”€â”€ services/      # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
```

#### ë””ìì¸ ì‹œìŠ¤í…œ
- **Color Palette**: Green (#00C471), Black (#111111)
- **Typography**: Pretendard, -0.025em letter-spacing
- **Components**: CommonButton, Modal, Toast, Loading
- **Layout**: ìµœëŒ€ ë„ˆë¹„ 768px, ì¢Œìš° 24px íŒ¨ë”©

#### ìƒíƒœ ê´€ë¦¬ ì•„í‚¤í…ì²˜ (Zustand)

**Store êµ¬ì¡°**:
```
src/store/
â”œâ”€â”€ notificationStore.js     # ì‹¤ì‹œê°„ ì•Œë¦¼ (WebSocket ì—°ë™)
â”œâ”€â”€ sessionStore.js          # ì„¸ì…˜/ìº˜ë¦°ë” ê´€ë¦¬
â”œâ”€â”€ matchingStore.js         # ë§¤ì¹­/íŒŒíŠ¸ë„ˆ ê²€ìƒ‰
â”œâ”€â”€ achievementStore.js      # ì—…ì  (5ë¶„ ìºì‹œ)
â”œâ”€â”€ themeStore.js           # í…Œë§ˆ ì„¤ì •
â”œâ”€â”€ profileStore.js         # í”„ë¡œí•„ ì •ë³´
â”œâ”€â”€ levelTestStore.js       # ë ˆë²¨ í…ŒìŠ¤íŠ¸
â”œâ”€â”€ chatStore.js            # ì±„íŒ…
â”œâ”€â”€ toastStore.js           # í† ìŠ¤íŠ¸ ì•Œë¦¼
â”œâ”€â”€ partnerStore.js         # íŒŒíŠ¸ë„ˆ ì •ë³´
â”œâ”€â”€ motivationStore.js      # ë™ê¸°ë¶€ì—¬ ë¬¸êµ¬
â””â”€â”€ langInfoStore.js        # ì–¸ì–´ ì •ë³´
```

**í•µì‹¬ íŒ¨í„´**:

1. **Persist ë¯¸ë“¤ì›¨ì–´**:
```javascript
const useNotificationStore = create(
  persist(
    (set, get) => ({ /* state */ }),
    {
      name: 'notification-storage',
      partialize: (state) => ({
        realtimeSettings: state.realtimeSettings,
        filter: state.filter  // í•„ìš”í•œ ìƒíƒœë§Œ ì €ì¥
      })
    }
  )
);
```

2. **ìºì‹œ TTL ì „ëµ** (5ë¶„):
```javascript
const CACHE_TTL = 5 * 60 * 1000; // 5ë¶„

fetchAchievements: async ({ force = false } = {}) => {
  const now = Date.now();
  const shouldUseCache = !force &&
    state.achievements.length > 0 &&
    (now - state.lastFetchedAt) < CACHE_TTL;

  if (shouldUseCache) return state.achievements;
  // ... API í˜¸ì¶œ
}
```

3. **React 19 ì•ˆì „ íŒ¨í„´** (useMemo ë¬´í•œ ë£¨í”„ ë°©ì§€):
```javascript
// âŒ WRONG: useMemo with unstable dependency
const filtered = useMemo(
  () => achievements.filter(a => a.category === selectedCategory),
  [achievements, selectedCategory]  // achievements ì°¸ì¡° ë¶ˆì•ˆì •
);

// âœ… CORRECT: Direct calculation
const filtered = selectedCategory === 'ALL'
  ? safeAchievements
  : safeAchievements.filter(a => a.category === selectedCategory);
```

4. **Selector íŒ¨í„´** (ê°œë³„ selector í•„ìˆ˜):
```javascript
// âœ… CORRECT: Individual selectors
const unreadCount = useNotificationStore((state) => state.unreadCount);
const loading = useNotificationStore((state) => state.loading);

// âŒ NEVER: Object selector (causes infinite loops)
// const { unreadCount, loading } = useNotificationStore(
//   (state) => ({ unreadCount: state.unreadCount, loading: state.loading }),
//   shallow
// );
```

5. **ì •ê·œí™” íŒ¨í„´**:
```javascript
const normalizeSession = (session) => ({
  ...session,
  id: session.id ?? session.sessionId,
  type: session.type ?? session.sessionType?.toLowerCase(),
  duration: session.duration ?? session.durationMinutes,
  status: session.status?.toLowerCase()
});
```

6. **ë³‘ë ¬ API ë¡œë”©** (Promise.all):
```javascript
const [studyStats, sessionActivity] = await Promise.all([
  getStudyStats(timeRange),
  getSessionActivity(timeRange)
]);
```

### 2. Backend (Cloudflare Workers)

#### ê¸°ìˆ  ìŠ¤íƒ
- **Framework**: Hono 4.x
- **Language**: TypeScript (Service Worker ëŸ°íƒ€ì„)
- **Data Stores**: Cloudflare D1, Workers KV, R2
- **Stateful Components**: Durable Objects
- **Authentication**: JWT + OAuth2
- **Observability**: Cloudflare Analytics, Wrangler Tail

#### ë””ë ‰í† ë¦¬ êµ¬ì¡°
```
workers/src/
â”œâ”€â”€ routes/        # REST / WebSocket í•¸ë“¤ëŸ¬
â”‚   â”œâ”€â”€ auth.ts
â”‚   â”œâ”€â”€ users.ts
â”‚   â”œâ”€â”€ matching.ts
â”‚   â”œâ”€â”€ onboarding.ts
â”‚   â””â”€â”€ notifications.ts
â”œâ”€â”€ services/      # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”œâ”€â”€ middleware/    # ì¸ì¦, ë¡œê¹…, ì—ëŸ¬ ì²˜ë¦¬
â”œâ”€â”€ durable/       # Durable Object êµ¬í˜„
â”œâ”€â”€ utils/         # ê³µìš© ìœ í‹¸ë¦¬í‹°
â””â”€â”€ types/         # íƒ€ì… ì„ ì–¸
```

#### ë°ì´í„° ê³„ì¸µ
- **D1**: ì‚¬ìš©ì, ë§¤ì¹­, ì•Œë¦¼, ë ˆë²¨ í…ŒìŠ¤íŠ¸ ë“± ê´€ê³„í˜• ë°ì´í„°
- **Workers KV**: ìºì‹œ, ì„¸ì…˜, ë©”íƒ€ë°ì´í„°
- **R2**: ìŒì„±/ì´ë¯¸ì§€ ì—…ë¡œë“œ (í”„ë¡œí•„, ë ˆë²¨ í…ŒìŠ¤íŠ¸)
- **Durable Objects**: WebRTC Room, UserPresence, ChatHub

### 3. AI Service (Workers AI)

#### ê¸°ìˆ  ìŠ¤íƒ
- **Platform**: Cloudflare Workers
- **AI Models**:
  - Llama 3.1 8B (í…ìŠ¤íŠ¸ í‰ê°€)
  - Whisper (ìŒì„± ì¸ì‹)

#### API ì—”ë“œí¬ì¸íŠ¸
```
/api/v1/leveltest/
â”œâ”€â”€ voice/transcribe    # ìŒì„±â†’í…ìŠ¤íŠ¸ ë³€í™˜
â”œâ”€â”€ evaluate            # ë ˆë²¨ í‰ê°€
â””â”€â”€ feedback/realtime   # ì‹¤ì‹œê°„ í”¼ë“œë°±
```

## ğŸ”„ ë°ì´í„° í”Œë¡œìš°

### 1. ì¸ì¦ í”Œë¡œìš°
```
ì‚¬ìš©ì â†’ OAuth Provider â†’ Backend â†’ JWT ë°œê¸‰ â†’ Frontend
```

### 2. ë ˆë²¨ í…ŒìŠ¤íŠ¸ í”Œë¡œìš°
```
ìŒì„± ë…¹ìŒ â†’ Workers AI (Whisper) â†’ í…ìŠ¤íŠ¸ ë³€í™˜
â†’ Workers AI (Llama) â†’ CEFR í‰ê°€ â†’ Backend ì €ì¥
```

### 3. ì‹¤ì‹œê°„ í†µì‹  í”Œë¡œìš°

#### WebSocket ì—°ê²° ì•„í‚¤í…ì²˜

**STOMP over WebSocket**:
```
Frontend (websocketService.js)
  â†“ JWT Bearer Token
WebSocket (wss://api.languagemate.kr/ws/chat)
  â†“ STOMP Protocol
Durable Objects (ChatHub/UserPresence)
  â†“ Subscribe/Publish
Topic-based Message Routing
```

**ì—°ê²° ê´€ë¦¬ ì „ëµ**:

1. **ì‹±ê¸€í†¤ íŒ¨í„´**:
```javascript
// ì „ì—­ ë‹¨ì¼ ì—°ê²° ìœ ì§€
const websocketService = new WebSocketService();
export default websocketService;
```

2. **Exponential Backoff ì¬ì—°ê²°**:
```javascript
// 1ì´ˆ â†’ 2ì´ˆ â†’ 4ì´ˆ â†’ 8ì´ˆ â†’ 16ì´ˆ â†’ 30ì´ˆ (ìµœëŒ€)
const delay = Math.min(
  reconnectDelay * Math.pow(2, attempt - 1),
  maxReconnectDelay
);
```

3. **ì—°ê²° íƒ€ì„ì•„ì›ƒ** (30ì´ˆ):
```javascript
connectionTimeout = setTimeout(() => {
  // ì—°ê²° ì‹¤íŒ¨ ì²˜ë¦¬ ë° ì¬ì—°ê²°
  handleReconnection();
}, 30000);
```

4. **ë©”ì‹œì§€ íì‰**:
```javascript
// ì—°ê²° ì „ì— ì „ì†¡í•œ ë©”ì‹œì§€ë¥¼ íì— ì €ì¥
if (!isConnected) {
  messageQueue.push({ destination, message, headers });
}

// ì—°ê²° í›„ íì˜ ë©”ì‹œì§€ ì¼ê´„ ì „ì†¡
flushMessageQueue();
```

5. **êµ¬ë… ì¬ì„¤ì •**:
```javascript
// ì¬ì—°ê²° ì‹œ ê¸°ì¡´ êµ¬ë… ë³µì›
reestablishSubscriptions() {
  subscriptions.forEach((info) => {
    client.subscribe(info.destination, info.callback, info.headers);
  });
}
```

6. **Heartbeat (Ping/Pong)**:
```javascript
// 30ì´ˆë§ˆë‹¤ Ping, 10ì´ˆ ì‘ë‹µ ëŒ€ê¸°
pingInterval: 30000,
pongTimeout: 10000,

// ì‘ë‹µ ì—†ìœ¼ë©´ ì—°ê²° ì¬ì‹œì‘
if (!receivedPong) {
  ws.close(); // ìë™ ì¬ì—°ê²° íŠ¸ë¦¬ê±°
}
```

**WebSocket í† í”½ êµ¬ì¡°**:
```typescript
// STOMP êµ¬ë… íŒ¨í„´
const topics = {
  // ê°œì¸ ë©”ì‹œì§€ (1:1)
  '/user/queue/messages',
  '/user/queue/notifications',

  // ì±„íŒ…ë°© (ê·¸ë£¹)
  '/topic/chat/{roomId}',

  // ì„¸ì…˜ ì—…ë°ì´íŠ¸
  '/topic/session/{sessionId}',

  // ë§¤ì¹­ ì•Œë¦¼
  '/topic/matching/{userId}',

  // ì‹¤ì‹œê°„ ì•Œë¦¼
  '/topic/notifications/{userId}'
};
```

#### WebRTC (P2P í™”ìƒ/ìŒì„±)
```
Frontend â†’ WebSocket (ì‹œê·¸ë„ë§)
  â†“ SDP Offer/Answer
STUN/TURN ì„œë²„
  â†“ ICE Candidate Exchange
Peer-to-Peer ì—°ê²° (Media Stream)
```

### 4. ì±„íŒ… í”Œë¡œìš°
```
Frontend â†’ WebSocket â†’ Durable Objects (ChatHub)
â†’ D1 ì €ì¥ â†’ ìƒëŒ€ë°©ì—ê²Œ ì‹¤ì‹œê°„ ì „ì†¡
```

## ğŸ” ë³´ì•ˆ ì•„í‚¤í…ì²˜

### 1. ì¸ì¦/ì¸ê°€
- JWT Access Token (1ì‹œê°„)
- Refresh Token (7ì¼)
- Hono ê¸°ë°˜ JWT ë¯¸ë“¤ì›¨ì–´

### 2. API ë³´ì•ˆ
- HTTPS ì „ìš©
- CORS ì„¤ì •
- Rate Limiting (Cloudflare)
- Request Validation

### 3. ë°ì´í„° ë³´í˜¸
- ë¹„ë°€ë²ˆí˜¸: BCrypt í•´ì‹±
- ë¯¼ê° ì •ë³´: AES ì•”í˜¸í™”
- ì„¸ì…˜ ìƒíƒœ: Durable Objects + JWT ì¡°í•©
- TLS 1.3 ì•”í˜¸í™”

## ğŸ“Š í™•ì¥ì„± ì„¤ê³„

### 1. ìˆ˜í‰ í™•ì¥
- Workers ê¸€ë¡œë²Œ ìë™ ë°°í¬ (ì „ ì„¸ê³„ 300+ ì—£ì§€ ë¡œì¼€ì´ì…˜)
- Durable Objectsë¥¼ í†µí•œ ì„¸ì…˜ ìƒíƒœ ê³µìœ 
- Edge ìºì‹±ìœ¼ë¡œ ì‘ë‹µ ì§€ì—° ìµœì†Œí™”

### 2. ì„±ëŠ¥ ìµœì í™”
- **CDN**: Cloudflare Pages (ì „ì—­ ë°°í¬)
- **ì´ë¯¸ì§€ ìµœì í™”**: WebP, ìë™ ë¦¬ì‚¬ì´ì§•
- **ìºì‹± ì „ëµ**:
  - Static Assets: 1ë…„
  - API ì‘ë‹µ: Workers KV (TTL ê¸°ë°˜)
  - ì‚¬ìš©ì ì„¸ì…˜: 7ì¼
- **D1 ìµœì í™”**: ì¸ë±ìŠ¤, ì½ê¸° ë¶„ë¦¬ ì„¤ê³„

### 3. ëª¨ë‹ˆí„°ë§
- Workers ë¡œê·¸ + wrangler tail
- Cloudflare Analytics / Request Tracing
- Sentry (í”„ëŸ°íŠ¸ì—”ë“œ)
- Durable Objects logging

## ğŸš€ ë°°í¬ ì•„í‚¤í…ì²˜

### 1. Frontend
- **Platform**: Cloudflare Pages
- **CI/CD**: GitHub Actions
- **Domain**: languagemate.kr
- **Build**: `npm run build` â†’ dist/
- **Deployment**: Git push â†’ auto deploy

### 2. Backend
- **Platform**: Cloudflare Workers
- **Deployment**: Wrangler CLI (`npm run deploy`)
- **Environments**: production / staging
- **Domain**: api.languagemate.kr

### 3. í™˜ê²½ ë³€ìˆ˜
```bash
# Frontend (.env.production)
VITE_API_URL=https://api.languagemate.kr
VITE_WS_URL=wss://api.languagemate.kr/ws

# Backend (wrangler.toml)
[vars]
ENVIRONMENT = "production"
JWT_SECRET = "[encrypted]"
```

## ğŸ† ì•„í‚¤í…ì²˜ ê²€ì¦ ê²°ê³¼

**ì „ì²´ í‰ê°€**: âœ… **Aê¸‰ (95/100ì )**

### ì„¸ë¶€ í‰ê°€
```
ğŸ—ï¸ ì „ì²´ êµ¬ì¡° ì¼ì¹˜ì„±:     98/100  âœ… ìš°ìˆ˜
ğŸ“¡ API ì•„í‚¤í…ì²˜:        100/100 âœ… ì™„ë²½
ğŸ›¡ï¸ ë³´ì•ˆ ì•„í‚¤í…ì²˜:       96/100  âœ… ìš°ìˆ˜
ğŸ“Š ë°ì´í„° ì•„í‚¤í…ì²˜:      98/100  âœ… ìš°ìˆ˜
ğŸš€ ì„±ëŠ¥ ì•„í‚¤í…ì²˜:       92/100  âœ… ì–‘í˜¸
ğŸ“± UI/UX ì•„í‚¤í…ì²˜:      100/100 âœ… ì™„ë²½
```

### ì£¼ìš” ê°•ì 
1. **ì™„ë²½í•œ API ë§¤ì¹­**: ëª¨ë“  ì—”ë“œí¬ì¸íŠ¸ê°€ ì •í™•íˆ ì¼ì¹˜
2. **ì¼ê´€ëœ ë°ì´í„° êµ¬ì¡°**: DTOì™€ ì¸í„°í˜ì´ìŠ¤ ì™„ì „ ë§¤ì¹­
3. **í†µí•©ëœ ì¸ì¦ ì‹œìŠ¤í…œ**: JWT ê¸°ë°˜ ë³´ì•ˆ ì•„í‚¤í…ì²˜ ì™„ì„±ë„ ë†’ìŒ
4. **í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡°**: ë„ë©”ì¸ ê¸°ë°˜ ëª¨ë“ˆí™” ì˜ êµ¬í˜„
5. **ì„±ëŠ¥ ìµœì í™”**: ìºì‹±ê³¼ ì—£ì§€ ì»´í“¨íŒ… ì „ëµ íš¨ê³¼ì 

### ê°œì„  ê°€ëŠ¥í•œ ì˜ì—­
1. **íƒ€ì… ì•ˆì „ì„±**: UUID â†” string ë³€í™˜ ëŸ°íƒ€ì„ ê²€ì¦ í•„ìš” (-2ì )
2. **ì—ëŸ¬ ì²˜ë¦¬**: ë” ì„¸ë¶„í™”ëœ ì—ëŸ¬ ì½”ë“œ ì²´ê³„ ë„ì… ê²€í†  (-2ì )
3. **ëª¨ë‹ˆí„°ë§**: APM ë„êµ¬ ì—°ë™ìœ¼ë¡œ ì„±ëŠ¥ ê°€ì‹œì„± í–¥ìƒ ê²€í†  (-1ì )

## ğŸ”— API ì•„í‚¤í…ì²˜

### REST API êµ¬ì¡°
```typescript
// í‘œì¤€ ì‘ë‹µ í˜•ì‹
interface ApiResponse<T> {
  success: boolean;
  data?: T;
  error?: {
    code: string;
    message: string;
  };
}

// ë„ë©”ì¸ë³„ ë¼ìš°íŒ…
/api/v1/auth/*           â†’ ì¸ì¦
/api/v1/users/*          â†’ ì‚¬ìš©ì
/api/v1/onboarding/*     â†’ ì˜¨ë³´ë”©
/api/v1/sessions/*       â†’ ì„¸ì…˜
/api/v1/matching/*       â†’ ë§¤ì¹­
/api/v1/chat/*           â†’ ì±„íŒ…
/api/v1/notifications/*  â†’ ì•Œë¦¼
```

## ğŸ—ï¸ ì‹œìŠ¤í…œë³„ ì•„í‚¤í…ì²˜ ì°¸ì¡°

í”„ë¡œì íŠ¸ì˜ ì£¼ìš” ì‹œìŠ¤í…œë³„ ìƒì„¸ ì•„í‚¤í…ì²˜ ë¬¸ì„œ:

### í”„ë¡ íŠ¸ì—”ë“œ ì‹œìŠ¤í…œ
- **[Settings System](../06-frontend/settings-system.md)**: 7ê°œ ì¹´í…Œê³ ë¦¬ ì„¤ì •, 2FA, ê³„ì • ì‚­ì œ
- **[Achievement System](../06-frontend/achievements-system.md)**: 9ê°œ ì¹´í…Œê³ ë¦¬, 6ê°œ í‹°ì–´, XP ë³´ìƒ, ìë™ ì¶”ì 
- **[Theme System](../06-frontend/theme-system.md)**: ë‹¤í¬ ëª¨ë“œ (ì¤€ë¹„ ë‹¨ê³„), ì‹œìŠ¤í…œ í…Œë§ˆ ê°ì§€
- **[Analytics Dashboard](../06-frontend/analytics-dashboard.md)**: Recharts ì‹œê°í™”, ì‹¤ì‹œê°„ ë©”íŠ¸ë¦­ (WebSocket)

### ë°ì´í„° í”Œë¡œìš° í†µí•©
```
ì‚¬ìš©ì ì•¡ì…˜
  â†“
React Component
  â†“
Zustand Store (ìºì‹œ í™•ì¸)
  â”œâ”€ ìºì‹œ íˆíŠ¸ â†’ ì¦‰ì‹œ ë°˜í™˜
  â””â”€ ìºì‹œ ë¯¸ìŠ¤ â†’ API í˜¸ì¶œ
       â†“
Axios (API Client)
  â†“ JWT Bearer Token
Workers API (api.languagemate.kr)
  â†“
Cloudflare D1 / KV / R2
  â†“
ì‘ë‹µ ì •ê·œí™” (normalizeXxx)
  â†“
Zustand Store ì—…ë°ì´íŠ¸ + localStorage persist
  â†“
React Component ë¦¬ë Œë”ë§
```

### ì‹¤ì‹œê°„ í†µì‹  í”Œë¡œìš°
```
WebSocket ì´ë²¤íŠ¸ (Backend)
  â†“ STOMP Message
websocketService.subscribe(destination, callback)
  â†“ JSON Parse
Zustand Store.addNotification() / updateSession()
  â†“ State Update
React Component ì¦‰ì‹œ ë°˜ì˜
```

### ìºì‹œ ê³„ì¸µ ì•„í‚¤í…ì²˜
```
Level 1: Zustand Store (ë©”ëª¨ë¦¬)
  - TTL: 5ë¶„ (achievementStore, sessionStore)
  - ë²”ìœ„: ì „ì—­ ìƒíƒœ

Level 2: localStorage (Zustand persist)
  - TTL: ë¬´ì œí•œ (ìˆ˜ë™ í´ë¦¬ì–´ í•„ìš”)
  - ë²”ìœ„: ì„¤ì •, í•„í„°, íˆìŠ¤í† ë¦¬

Level 3: Workers KV (Backend)
  - TTL: êµ¬ì„± ê°€ëŠ¥ (15ë¶„~1ì¼)
  - ë²”ìœ„: ì‚¬ìš©ì ì„¸ì…˜, ë©”íƒ€ë°ì´í„°

Level 4: Cloudflare D1 (DB)
  - TTL: ì˜êµ¬ ì €ì¥
  - ë²”ìœ„: ëª¨ë“  ì—”í‹°í‹°
```

## ğŸ“ˆ í–¥í›„ ê³„íš

### Phase 1 (ì™„ë£Œ)
- [x] ê¸°ë³¸ ì¸ì¦/ì˜¨ë³´ë”©
- [x] 1:1 ì±„íŒ…/í™”ìƒí†µí™”
- [x] AI ë ˆë²¨ í…ŒìŠ¤íŠ¸
- [x] í”„ë¡œí•„ ê´€ë¦¬

### Phase 2 (ì§„í–‰ ì¤‘)
- [ ] ê·¸ë£¹ ì„¸ì…˜
- [ ] ê³ ê¸‰ ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜
- [ ] í•™ìŠµ ë¶„ì„ ëŒ€ì‹œë³´ë“œ
- [ ] ì‹¤ì‹œê°„ AI í”¼ë“œë°±

### Phase 3 (ê³„íš)
- [ ] ëª¨ë°”ì¼ ì•± (PWA)
- [ ] ì˜¤í”„ë¼ì¸ ëª¨ë“œ
- [ ] ë‹¤êµ­ì–´ ì§€ì› í™•ëŒ€
- [ ] ê²Œì´ë¯¸í”¼ì¼€ì´ì…˜

## ğŸ› ï¸ ê°œë°œ ë° ìš´ì˜ ê°€ì´ë“œ

### ë¡œì»¬ ê°œë°œ
```bash
# Frontend
cd STYDYMATE-CLIENT
npm run dev  # http://localhost:3000

# Backend
cd workers
npm run dev  # http://localhost:8787
```

### ë°°í¬
```bash
# Frontend
npm run build
npx wrangler pages deploy dist

# Backend
cd workers
npm run deploy
```

### ë¡œê·¸ í™•ì¸
```bash
# Workers ë¡œê·¸ ì‹¤ì‹œê°„ í™•ì¸
npx wrangler tail

# D1 ì¿¼ë¦¬ ì‹¤í–‰
npx wrangler d1 execute <database> --command="SELECT * FROM users LIMIT 10"
```

---

## ğŸ“š ì¶”ê°€ ì°¸ì¡° ë¬¸ì„œ

### ì „ì²´ ì‹œìŠ¤í…œ
- **[API ëª…ì„¸](../04-api/api.md)**: ëª¨ë“  REST API ì—”ë“œí¬ì¸íŠ¸ ìƒì„¸ ë¬¸ì„œ
- **[ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ](../05-database/database.md)**: D1 í…Œì´ë¸”, KV, R2 êµ¬ì¡°
- **[í”„ë¡ íŠ¸ì—”ë“œ ê°€ì´ë“œ](../06-frontend/frontend.md)**: React ì»´í¬ë„ŒíŠ¸, ë¼ìš°íŒ…, ìŠ¤íƒ€ì¼ ê°€ì´ë“œ
- **[ë°±ì—”ë“œ ê°€ì´ë“œ](../07-backend/backend.md)**: Workers êµ¬í˜„, ì…ë ¥ ê²€ì¦, ìºì‹± ì „ëµ
- **[ì¸í”„ë¼ ê°€ì´ë“œ](../08-infrastructure/infrastructure.md)**: ë°°í¬, CI/CD, ëª¨ë‹ˆí„°ë§

### ê°œë°œ ê°€ì´ë“œ
- **[CLAUDE.md](../../CLAUDE.md)**: í”„ë¡œì íŠ¸ ì „ë°˜ ê°œë°œ ê°€ì´ë“œ
- **[Zustand ë¬´í•œ ë£¨í”„ íŒ¨í„´](../../docs/99-logs/failure-patterns/2025-01-13-zustand-infinite-loop.md)**: React 19 ì£¼ì˜ì‚¬í•­

---

*ì´ ì•„í‚¤í…ì²˜ ë¬¸ì„œëŠ” STUDYMATE ì‹œìŠ¤í…œì˜ ì „ì²´ êµ¬ì¡°ë¥¼ ì„¤ëª…í•˜ë©°, í”„ë¡œì íŠ¸ ë°œì „ì— ë”°ë¼ ì§€ì†ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤. ìµœì¢… ì—…ë°ì´íŠ¸: 2025-01-18*
